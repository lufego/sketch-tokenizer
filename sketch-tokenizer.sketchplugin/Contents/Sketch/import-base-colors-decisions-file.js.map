{"version":3,"sources":["webpack://exports/webpack/bootstrap","webpack://exports/./src/converters/colors.js","webpack://exports/./src/menu-import/import-base-colors-decisions-file.js","webpack://exports/./src/utils.js"],"names":["transformColorLightness","hex","lightness","colorRgb","HEXtoRGB","colorHsl","RGBtoHSL","colorRgbTransformed","HSLtoRGB","colorHslTransformed","colorHex","HSLtoHEX","result","exec","parseInt","r","g","b","max","Math","min","h","s","l","d","round","hsl","rgbColor","toString","slice","m1","m2","hue","hue2rgb","multiplyBy255","num","importFile","require","context","fileName","objName","document","showMessage","ColorConverter","quoteColor","a","lineHeight","lineWidth","insertTokenText","position","layerGroupName","title","text","isBorder","capitalizedTitle","toUpperCase","textWithToken","createTextLayer","quoteLine","createQuoteLine","insertIntoGroup","line","property","layers","groupLayer","MSLayerGroup","new","bounds","groupBoundsForContainer","MSLayerArray","arrayWithLayers","touchOffset","startingPointOffset","spacing","frame","x","y","name","resizeToFitChildrenWithOption","width","midY","size","height","currentParentGroup","currentPage","currentArtboard","addLayers","lineHeightMidY","path","NSBezierPath","bezierPath","moveToPoint","NSMakePoint","lineToPoint","shape","MSShapeGroup","shapeWithBezierPath","MSPath","pathWithBezierPath","border","style","addStylePartOfType","color","MSColor","colorWithRGBADictionary","thickness","stringValue","textLayer","MSTextLayer","setTextColor","getTokenVariable","component","hexColor","baseColorsMap","getBaseColorsVariablesMapping","prefix","hasDash","propertyPrefix","test","split","states","decisionsFile","propertyName","Array","getDecisionsJson","selectedColor","replace","selectedState","Object","keys","find","state","getFillHexColor","selection","layer","getRGBColor","immutableModelObject","hexValue","object","threadDictionary","NSThread","mainThread","decisions","getBorderHexColor","type","textColor","fills","firstObject","borders","getHexValueFromColorVariable","colorVar","baseColorsVariablesMap","colorVarWithPrefix","hexVal","colorChecker","callback","importedBaseColors","colorNames","map","colorGroup","colorGroupName","colorDefaultName","default","forEach","variation","variationName","variationNameWithoutPercetageSign","dataPath","askForJSON","jsonData","loadJSONData","jsonDir","NSString","stringWithString","stringByDeletingLastPathComponent","panel","NSOpenPanel","openPanel","setTitle","setMessage","setPrompt","setCanCreateDirectories","setCanChooseFiles","setCanChooseDirectories","setAllowsMultipleSelection","setShowsHiddenFiles","setExtensionHidden","setDirectoryURL","NSURL","fileURLWithPath","NSUserName","pressedButton","runModal","NSOKButton","URL","contents","readFileAsText","data","JSON","parse","e","stringWithContentsOfFile_encoding_error","NSUTF8StringEncoding"],"mappings":"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","file":"import-base-colors-decisions-file.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/menu-import/import-base-colors-decisions-file.js\");\n","// Color converters\n\nexport function transformColorLightness(hex, lightness) {\n  /* A bit of crazyness happening here;\n  But this is the workflow from hsl_picker plugin to \n  generate colors in sketch, so the same scheme is below */\n  // HEXtoRGB => RgbToHsl => change light => HSLtoRGB => RGBtoHSL => HSLtoHEX\n\n  const colorRgb = HEXtoRGB(hex);\n  const colorHsl = RGBtoHSL(colorRgb, lightness);\n  const colorRgbTransformed = HSLtoRGB(colorHsl);\n  const colorHslTransformed = RGBtoHSL(colorRgbTransformed);\n  const colorHex = HSLtoHEX(colorHslTransformed);\n  return colorHex;\n}\n\nfunction HEXtoRGB(hex) {\n  var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return result\n    ? [\n        parseInt(result[1], 16),\n        parseInt(result[2], 16),\n        parseInt(result[3], 16)\n      ]\n    : null;\n}\n\nfunction RGBtoHSL([r, g, b], lightness) {\n  (r /= 255), (g /= 255), (b /= 255);\n  var max = Math.max(r, g, b),\n    min = Math.min(r, g, b);\n  var h,\n    s,\n    l = (max + min) / 2;\n  if (max == min) {\n    h = s = 0; // achromatic\n  } else {\n    var d = max - min;\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n    switch (max) {\n      case r:\n        h = (g - b) / d + (g < b ? 6 : 0);\n        break;\n      case g:\n        h = (b - r) / d + 2;\n        break;\n      case b:\n        h = (r - g) / d + 4;\n        break;\n    }\n    h /= 6;\n  }\n  return [\n    Math.round(h * 360),\n    Math.round(s * 100),\n    lightness ? parseInt(lightness) : Math.round(l * 100)\n  ];\n}\n\nfunction HSLtoHEX(hsl) {\n  const rgbColor = HSLtoRGB([hsl[0], hsl[1], hsl[2]]);\n  const r = rgbColor[0];\n  const g = rgbColor[1];\n  const b = rgbColor[2];\n\n  // console.log('rgb', r, g, b)\n\n  return '#' + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);\n}\n\nfunction HSLtoRGB([h, s, l]) {\n  var m1, m2, hue;\n  s = s / 100;\n  l = l / 100;\n  var r, g, b;\n\n  if (s == 0) r = g = b = l * 255;\n  else {\n    m2 = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    m1 = 2 * l - m2;\n    hue = h / 360;\n\n    r = hue2rgb(m1, m2, hue + 1 / 3);\n    g = hue2rgb(m1, m2, hue);\n    b = hue2rgb(m1, m2, hue - 1 / 3);\n  }\n\n  function multiplyBy255(num) {\n    return num * 255;\n  }\n\n  if (r < 1 || g < 1 || b < 1) {\n    r = multiplyBy255(r);\n    g = multiplyBy255(g);\n    b = multiplyBy255(b);\n  }\n\n  // console.log('rgb', Math.round(r), Math.round(g), Math.round(b));\n\n  return [Math.round(r), Math.round(g), Math.round(b)];\n}\n\n// Used inside HSLtoRGB function\nfunction hue2rgb(m1, m2, hue) {\n  if (hue < 0) hue += 1;\n  if (hue > 1) hue -= 1;\n  if (hue < 1 / 6) return m1 + (m2 - m1) * 6 * hue;\n  if (hue < 1 / 2) return m2;\n  if (hue < 2 / 3) return m1 + (m2 - m1) * (2 / 3 - hue) * 6;\n  return m1;\n}\n","const importFile = require('./../utils.js').importFile;\n\nexport default function(context) {\n  const fileName = 'Base colors';\n\n  // the value global state will hold\n  const objName = 'baseColors';\n\n  importFile(fileName, objName);\n\n  context.document.showMessage(\n    `📩🎉: File for ${fileName} imported! Ready to use!`\n  );\n}\n","const ColorConverter = require('./converters/colors.js');\n\nconst quoteColor = { r: 1, g: 0.369, b: 0.941, a: 1 };\nconst lineHeight = 14;\nconst lineWidth = 85;\n\n// UI Creators\n\nexport function insertTokenText(\n  position,\n  layerGroupName,\n  title,\n  text,\n  isBorder = false\n) {\n  const capitalizedTitle = title[0].toUpperCase() + title.slice(1);\n  const textWithToken = createTextLayer(`${capitalizedTitle}: ${text}`);\n  const quoteLine = createQuoteLine(position, isBorder);\n\n  // var bounds = MSLayerGroup.groupBoundsForContainer(\n  //   MSLayerArray.arrayWithLayers([quoteLine, textWithToken])\n  // );\n\n  insertIntoGroup(\n    layerGroupName,\n    title,\n    { text: textWithToken, line: quoteLine },\n    position,\n    isBorder\n  );\n}\n\nexport function insertIntoGroup(\n  layerGroupName,\n  property,\n  layers,\n  position,\n  isBorder\n) {\n  var groupLayer = MSLayerGroup.new();\n\n  // to simulate the heigt/width\n  var bounds = MSLayerGroup.groupBoundsForContainer(\n    MSLayerArray.arrayWithLayers([layers.line, layers.text])\n  );\n\n  // if its a border, we want the quote line to touch it, otherwise touch fill\n  const touchOffset = isBorder ? 0 : 5;\n\n  // if its a border TOKEN, we want the quote line to start from the same point as fill quoted line\n  const startingPointOffset = isBorder ? lineHeight : 0;\n\n  // spacing between line and text\n  const spacing = 4;\n\n  // moves the text a bit further from object\n  layers.text.frame().x = lineWidth + spacing;\n  if (isBorder) {\n    layers.text.frame().y = -lineHeight;\n  }\n\n  groupLayer.name = `Token ${property} for ${layerGroupName}`;\n  groupLayer.layers = [layers.line, layers.text];\n\n  groupLayer.resizeToFitChildrenWithOption(1);\n  groupLayer.frame().x = position.x + position.width - touchOffset;\n  groupLayer.frame().y =\n    position.y + position.midY - bounds.size.height / 2 - startingPointOffset;\n  var currentParentGroup =\n    context.document.currentPage().currentArtboard() ||\n    context.document.currentPage();\n  currentParentGroup.addLayers([groupLayer]);\n}\n\nexport function createQuoteLine(position, isBorder) {\n  const lineHeightMidY = lineHeight / 2;\n\n  // if its a border TOKEN, we want the quote line to start from the same point as fill quoted line\n  const startingPointOffset = isBorder ? 15 : 0;\n  var path = NSBezierPath.bezierPath();\n  path.moveToPoint(\n    NSMakePoint(lineWidth, lineHeightMidY - startingPointOffset)\n  );\n  path.lineToPoint(NSMakePoint(0, lineHeightMidY));\n\n  var shape = MSShapeGroup.shapeWithBezierPath(MSPath.pathWithBezierPath(path));\n  var border = shape.style().addStylePartOfType(1);\n  border.color = MSColor.colorWithRGBADictionary(quoteColor);\n  border.thickness = 1;\n\n  return shape;\n}\n\nexport function createTextLayer(stringValue) {\n  var textLayer = MSTextLayer.new();\n  textLayer.stringValue = stringValue;\n  textLayer.name = 'Text';\n  textLayer.setTextColor(MSColor.colorWithRGBADictionary(quoteColor));\n  return textLayer;\n}\n\n// Token getters\n\nexport function getTokenVariable(property, component, hexColor) {\n  const baseColorsMap = getBaseColorsVariablesMapping();\n  const prefix = '--token';\n\n  // if property has `-`, splits it\n  const hasDash = /-/;\n  const propertyPrefix = hasDash.test(property)\n    ? property.split('-')\n    : property;\n\n  let states;\n  let decisionsFile;\n  let propertyName;\n\n  // if the propery is passed with dash (E.g border-color)\n  if (propertyPrefix instanceof Array) {\n    decisionsFile = getDecisionsJson(propertyPrefix[0]);\n    if (!decisionsFile) {\n      return context.document.showMessage(\n        `✋🏻❌: Please load a decisions token file for ${property} before continuing`\n      );\n    }\n    states = decisionsFile[propertyPrefix[1]][component];\n    propertyName = `${propertyPrefix[0]}-${propertyPrefix[1]}`;\n  } else {\n    decisionsFile = getDecisionsJson(propertyPrefix);\n    if (!decisionsFile) {\n      return context.document.showMessage(\n        `✋🏻❌: Please load a decisions token file for ${property} before continuing`\n      );\n    }\n    states = decisionsFile[propertyPrefix][component];\n    propertyName = propertyPrefix;\n  }\n\n  if (!baseColorsMap) {\n    return context.document.showMessage(\n      '✋🏻❌: Please load a decisions base colors file before continuing'\n    );\n  }\n\n  // gets the color from selected element\n  const selectedColor = baseColorsMap[hexColor].replace('--color-', '');\n\n  const selectedState = Object.keys(states).find(\n    state => states[state] == selectedColor\n  );\n\n  if (!selectedState) {\n    return context.document.showMessage(\n      '🎨🚫: Non-recognized token color. Please make sure to use a valid color for this token'\n    );\n  }\n\n  return `${prefix}-${propertyName}-${component}-${selectedState}`;\n}\n\n// Base color getters\n\nexport function getFillHexColor(selection) {\n  var layer = context.selection[0];\n  var selectedColor = getRGBColor('fill', layer);\n  var colorHex = selectedColor\n    .immutableModelObject()\n    .hexValue()\n    .toString();\n  return colorHex;\n}\n\nfunction getDecisionsJson(object) {\n  // Gets the json data stored in global state\n  let threadDictionary = NSThread.mainThread().threadDictionary();\n  let decisions = threadDictionary[object];\n  return decisions;\n}\n\nexport function getBorderHexColor(selection) {\n  var layer = context.selection[0];\n  var selectedColor = getRGBColor('border', layer);\n  var colorHex = selectedColor\n    .immutableModelObject()\n    .hexValue()\n    .toString();\n  return colorHex;\n}\n\nexport function getRGBColor(type, layer) {\n  var color;\n\n  if (type === 'fill') {\n    if (layer instanceof MSTextLayer) {\n      color = layer.textColor();\n    } else {\n      color = layer\n        .style()\n        .fills()\n        .firstObject()\n        .color();\n    }\n  } else {\n    color = layer\n      .style()\n      .borders()\n      .firstObject()\n      .color();\n  }\n\n  return color;\n}\n\nexport function getHexValueFromColorVariable(colorVar, baseColorsVariablesMap) {\n  const colorVarWithPrefix = `--color-${colorVar}`;\n  return Object.keys(baseColorsVariablesMap).find(hexVal => {\n    if (baseColorsVariablesMap[hexVal] == colorVarWithPrefix) return hexVal;\n  });\n}\n\n// Checkers\n\nexport function colorChecker(color, callback) {\n  if (typeof color === 'undefined') {\n    return context.document.showMessage(\n      '🎨🚫: Non UI Kit color. Please make sure to use a valid color'\n    );\n  } else {\n    return callback();\n  }\n}\n\n// General scripts\n\nexport function getBaseColorsVariablesMapping() {\n  // Gets the json data stored in global state\n  const importedBaseColors = getDecisionsJson('baseColors');\n\n  if (!importedBaseColors)\n    return context.document.showMessage(\n      '🗃👎🏻 No file imported. Please import your base colors file in `Import base colors file...`'\n    );\n\n  const colorNames = {};\n  // gets default color variables\n  Object.keys(importedBaseColors).map(colorGroupName => {\n    const colorGroup = importedBaseColors[colorGroupName];\n    const colorDefaultName = colorGroup.default;\n    colorNames[colorDefaultName.toString().toUpperCase()] =\n      '--color-' + colorGroupName;\n\n    Object.keys(colorGroup).forEach(variation => {\n      // filters out default values\n      if (variation !== 'default') {\n        const variationName = colorGroup[variation];\n        const variationNameWithoutPercetageSign = variationName\n          .toString()\n          .replace('%', '');\n        colorNames[\n          ColorConverter.transformColorLightness(\n            colorGroup.default,\n            variationNameWithoutPercetageSign\n          ).toUpperCase()\n        ] =\n          '--color-' + colorGroupName + '-' + variation;\n      }\n    });\n  });\n  return colorNames;\n}\n\n// importers\n\nexport function importFile(fileName, objName) {\n  //ask for JSON file path, passing the last location if available\n  let dataPath = askForJSON('lastJSONPath', fileName);\n  if (!dataPath) return;\n\n  //load json data\n  let jsonData = loadJSONData(dataPath);\n  if (!jsonData) return;\n\n  //get root dir used when populating local images\n  let jsonDir = NSString.stringWithString(\n    dataPath\n  ).stringByDeletingLastPathComponent();\n\n  let threadDictionary = NSThread.mainThread().threadDictionary();\n  threadDictionary[objName] = { ...jsonData };\n}\n\nfunction askForJSON(path, fileName) {\n  //create panel\n  let panel = NSOpenPanel.openPanel();\n\n  //set panel properties\n  panel.setTitle('Select JSON');\n  panel.setMessage(`Please select the JSON file for ${fileName}`);\n  panel.setPrompt('Select');\n  panel.setCanCreateDirectories(false);\n  panel.setCanChooseFiles(true);\n  panel.setCanChooseDirectories(false);\n  panel.setAllowsMultipleSelection(false);\n  panel.setShowsHiddenFiles(false);\n  panel.setExtensionHidden(false);\n\n  //set initial panel path\n  if (path) {\n    panel.setDirectoryURL(NSURL.fileURLWithPath(path));\n  } else {\n    panel.setDirectoryURL(NSURL.fileURLWithPath('/Users/' + NSUserName()));\n  }\n\n  //show panel\n  let pressedButton = panel.runModal();\n  if (pressedButton == NSOKButton) {\n    return panel.URL().path();\n  }\n}\n\nfunction loadJSONData(path) {\n  //load contents\n  let contents = readFileAsText(path);\n\n  //get data from JSON\n  let data;\n  try {\n    data = JSON.parse(contents);\n  } catch (e) {\n    context.document.showMessage(\n      \"There was an error parsing data. Please make sure it's valid.\"\n    );\n    return;\n  }\n\n  return data;\n}\n\nfunction readFileAsText(path) {\n  return NSString.stringWithContentsOfFile_encoding_error(\n    path,\n    NSUTF8StringEncoding,\n    false\n  );\n}\n"],"sourceRoot":""}