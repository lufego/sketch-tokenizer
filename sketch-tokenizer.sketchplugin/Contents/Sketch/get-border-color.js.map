{"version":3,"sources":["webpack://exports/webpack/bootstrap","webpack://exports/./src/get-border-color.js","webpack://exports/./src/utils.js"],"names":["Utils","require","context","selection","document","showMessage","length","MSTextLayer","colorMapping","getBaseColorsVariablesMapping","currentSelectedColor","getBorderHexColor","toString","toUpperCase","color","callback","getBorderColorVariable","colorChecker","text","x","frame","selectedElementWidth","width","midY","position","y","insertTokenText","quoteColor","r","g","b","a","layerName","title","isBorder","textWithToken","createTextLayer","createQuoteLine","currentPage","addLayers","elementWidth","touchOffset","startPointOffset","path","NSBezierPath","bezierPath","moveToPoint","NSMakePoint","lineToPoint","shape","MSShapeGroup","shapeWithBezierPath","MSPath","pathWithBezierPath","border","style","addStylePartOfType","MSColor","colorWithRGBADictionary","thickness","getFillHexColor","layer","selectedColor","getRGBColor","colorHex","immutableModelObject","hexValue","type","textColor","fills","firstObject","borders","threadDictionary","NSThread","mainThread","importedBaseColors","colorNames","Object","keys","map","colorGroup","colorGroupName","colorDefaultName","default","forEach","variation","variationName","variationNameWithoutPercetageSign","replace","transformColorLightness","name","stringValue","textLayer","new","setTextColor","hex","lightness","hslColor","hexToHsl","hexColor","hslToHex","console","log","result","exec","parseInt","max","Math","min","h","s","l","d","round","hsl","rgbColor","hslToRgb","slice","m1","m2","hue","hue2rgb","multiplyBy255","num"],"mappings":"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","file":"get-border-color.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/get-border-color.js\");\n","const Utils = require('./utils.js')\n\n// My plugin (command shift s)\nexport default function(context) {\n  var selection = context.selection;\n  context.document.showMessage('Plugin 🏃');\n\n  if (selection.length == 0) {\n    return context.document.showMessage('🗝🌈: Please select an object');\n  }\n  // if its a text\n  if (selection[0] instanceof MSTextLayer) {\n    return context.document.showMessage('❌: Please use `Tokenizer > Get Tone` for texts');\n  }\n  \n  const colorMapping = Utils.getBaseColorsVariablesMapping()\n  const currentSelectedColor = Utils.getBorderHexColor(selection).toString().toUpperCase();\n  \n  \n  const color = colorMapping[\"#\" + currentSelectedColor];\n  \n  const callback = () => getBorderColorVariable(selection, color);\n\n  // checks if color belongs to UI Kit, if not returns an error\n  Utils.colorChecker(color, callback)\n}\n\n\n\n\nfunction getBorderColorVariable(selection, text) {\n  // gets the position of selection\n  var x = selection[0].frame().x();\n  var selectedElementWidth = selection[0].frame().width();\n  var midY =selection[0].frame().midY();\n\n  const position = {\n    x, y: midY - 30, width: selectedElementWidth\n  }\n  Utils.insertTokenText(position, 'Token', 'Border color: ', text, true)\n}\n","// const colorVariables = {\n//   baseColors: {\n//     green: {\n//       default: \"#00B39E\",\n//       25: \"25%\",\n//       40: \"40%\",\n//       85: \"85%\",\n//       95: \"95%\",\n//     },\n//     white: {\n//       default: \"#FFFFFF\"\n//     },\n//     navy: {\n//       default: \"#213C45\",\n//       30: \"30%\",\n//       40: \"40%\",\n//       95: \"95%\",\n//       98 : \"98%\"\n//     },\n//     blue: {\n//       default: \"#078CDF\",\n//       95: \"95%\",\n//       98: \"98%\"\n//     },\n//     gray: {\n//       default: \"#CCCCCC\",\n//       60: \"60%\",\n//       90: \"90%\",\n//       95: \"95%\"\n//     },\n//     orange: {\n//       default: \"#F16D0E\",\n//       95: \"95%\"\n//     },\n//     red: {\n//       default: \"#E60050\",\n//       95: \"95%\"\n//     },\n//     purple: {\n//       default: \"#B866FF\",\n//     },\n//     black: {\n//       default: \"#1A1A1A\",\n//     }\n//   }\n// }\n\nconst quoteColor = {r: 1, g: 0.369, b: 0.941, a: 1}\n\nexport function insertTokenText({x, y, width}, layerName, title, text, isBorder = false) {\n  const textWithToken = createTextLayer(layerName, title + text);\n  // pass the position to the text layer to be inserted\n  textWithToken.frame().x = x + width + 100;\n  textWithToken.frame().midY = y;\n\n  // pass the position to quote line\n  createQuoteLine(x, y, width, isBorder);\n\n  // add the layer to the artboar\n  context.document.currentPage().addLayers([textWithToken]);\n}\n\nexport function createQuoteLine(x, y, elementWidth, isBorder) {\n\n  // if its a border, we want the quote line to touch it, otherwise touch fill\n  const touchOffset = isBorder ? 0 : 5\n\n  // if its a border, we want the quote line to start from the same point as fill quoted line\n  const startPointOffset = isBorder ? 30 : 0\n  var path = NSBezierPath.bezierPath();\n  path.moveToPoint(NSMakePoint(x + elementWidth - touchOffset, y + startPointOffset));\n  path.lineToPoint(NSMakePoint(x + elementWidth + 90, y));\n\n  var shape = MSShapeGroup.shapeWithBezierPath(MSPath.pathWithBezierPath(path));\n  var border = shape.style().addStylePartOfType(1);\n  border.color = MSColor.colorWithRGBADictionary(quoteColor);\n  border.thickness = 1;\n\n  context.document.currentPage().addLayers([shape]);\n}\n\nexport function getFillHexColor(selection) {\n  var layer = context.selection[0]\n  var selectedColor = getRGBColor(\"fill\", layer)\n  var colorHex = selectedColor.immutableModelObject().hexValue().toString()\n  return colorHex\n}\n\nexport function getBorderHexColor(selection) {\n  var layer = context.selection[0]\n  var selectedColor = getRGBColor(\"border\", layer)\n  var colorHex = selectedColor.immutableModelObject().hexValue().toString()\n  return colorHex\n}\n\nexport function getRGBColor (type, layer) {\n  var color\n\n  if (type === \"fill\") {\n    if (layer instanceof MSTextLayer) {\n      color = layer.textColor()\n    } else {\n      color = layer.style().fills().firstObject().color()\n    }\n  } else {\n    color = layer.style().borders().firstObject().color()\n  }\n\n  return color\n}\n\nexport function colorChecker(color, callback) {\n  if(typeof color === 'undefined') {\n    return context.document.showMessage('🎨🚫: Non UI Kit color. Please make sure to use a valid color');\n  } else {\n    return callback()\n  }\n}\n\nexport function getBaseColorsVariablesMapping() {\n  // Gets the json data stored in global state\n  let threadDictionary = NSThread.mainThread().threadDictionary();\n  let importedBaseColors = threadDictionary.importedBaseColors\n  if (!importedBaseColors) return context.document.showMessage('🗃👎🏻 No file imported. Please import your base colors file in `Import base colors file...`')\n\n  // console.log('importedBaseColors', importedBaseColors.baseColors.green)\n  const colorNames = {}\n  // gets default color variables\n  Object.keys(importedBaseColors).map(colorGroupName => {\n    // console.log('colorGroupName', colorGroupName)\n    const colorGroup = importedBaseColors[colorGroupName]\n    const colorDefaultName = colorGroup.default;\n    colorNames[colorDefaultName.toString().toUpperCase()] = '--color-' + colorGroupName;\n\n    // console.log('colorGroup.default', colorGroup.default);\n\n    Object.keys(colorGroup).forEach(variation => {\n      // filters out default values\n      if (variation !== 'default') {\n        const variationName = colorGroup[variation]\n        const variationNameWithoutPercetageSign = variationName.toString().replace('%', '');\n        // console.log('colorGroup.default', colorGroup.default)\n        colorNames[transformColorLightness(colorGroup.default, variationNameWithoutPercetageSign).toUpperCase()] = '--color-' + colorGroupName + '-' + variation;\n      }\n    })\n  })\n  // console.log('colorNames', colorNames)\n  return colorNames\n}\n\nexport function createTextLayer(name, stringValue) {\n    var textLayer = MSTextLayer.new();\n    textLayer.stringValue = stringValue\n    textLayer.name = name\n    textLayer.setTextColor(MSColor.colorWithRGBADictionary(quoteColor))\n    return textLayer;\n}\n\n// Color converters\n\nfunction transformColorLightness(hex, lightness) {\n    const hslColor = hexToHsl(hex, lightness);\n    const hexColor = hslToHex(hslColor);\n    console.log('hexColor', hexColor)\n    return hexColor;\n}\n\nfunction hexToHsl(hex, lightness){\n  var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n\n    var r = parseInt(result[1], 16);\n    var g = parseInt(result[2], 16);\n    var b = parseInt(result[3], 16);\n\n    r /= 255, g /= 255, b /= 255;\n    var max = Math.max(r, g, b), min = Math.min(r, g, b);\n    var h, s, l = (max + min) / 2;\n\n    if(max == min){\n        h = s = 0; // achromatic\n    } else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n        h /= 6;\n    }\n\n    h = Math.round(360*h);\n    s = s*100;\n    s = Math.round(s);\n    l = l*100;\n    l = lightness ? lightness : Math.round(l);\n\n  return [h,s,l]\n}\n\nfunction hslToHex(hsl){\n    const rgbColor = hslToRgb(hsl[0], hsl[1], hsl[2])\n    const r = rgbColor[0];\n    const g = rgbColor[1];\n    const b = rgbColor[2];\n\n    // console.log('rgb', r, g, b)\n\n    return \"#\" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);\n}\n\nfunction hslToRgb(h, s, l){\n  var m1, m2, hue;\n  s = s / 100;\n  l = l / 100;\n  var r, g, b\n\n\tif (s == 0)\n\t\tr = g = b = (l * 255);\n\telse {\n    m2 = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    m1 = 2 * l - m2;\n\t\thue = h / 360;\n\n\t\tr = hue2rgb(m1, m2, hue + 1/3);\n\t\tg = hue2rgb(m1, m2, hue);\n\t\tb = hue2rgb(m1, m2, hue - 1/3);\n\t}\n\n  function multiplyBy255(num) {\n    return num * 255\n  }\n\n  if (r < 1 || g < 1 || b < 1) {\n    r = multiplyBy255(r);\n    g = multiplyBy255(g);\n    b = multiplyBy255(b);\n  }\n\n  console.log('rgb', Math.round(r), Math.round(g),Math.round(b))\n\n\treturn [Math.round(r), Math.round(g), Math.round(b)]\n}\n\nfunction hue2rgb(m1, m2, hue) {\n  if(hue < 0) hue += 1;\n  if(hue > 1) hue -= 1;\n  if(hue < 1 / 6) return m1 + (m2 - m1) * 6 * hue;\n  if(hue < 1 / 2) return m2;\n  if(hue < 2 / 3) return m1 + (m2 - m1) * (2 / 3 - hue) * 6;\n  return m1;\n}\n"],"sourceRoot":""}