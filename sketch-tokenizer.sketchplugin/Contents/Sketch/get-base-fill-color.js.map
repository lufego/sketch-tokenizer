{"version":3,"sources":["webpack://exports/webpack/bootstrap","webpack://exports/./src/getters/base-colors/get-base-fill-color.js","webpack://exports/./src/utils.js"],"names":["Utils","require","context","selection","document","showMessage","length","MSTextLayer","colorMapping","getBaseColorsVariablesMapping","console","log","currentSelectedColor","getFillHexColor","toString","toUpperCase","color","callback","getFillColorVariable","colorChecker","text","position","x","absoluteRect","rulerX","y","rulerY","midY","height","width","layerName","String","name","insertTokenText","quoteColor","r","g","b","a","layerGroupName","title","isBorder","capitalizedTitle","slice","textWithToken","createTextLayer","quoteLine","createQuoteLine","insertIntoGroup","line","property","layers","groupLayer","MSLayerGroup","new","bounds","groupBoundsForContainer","MSLayerArray","arrayWithLayers","frame","resizeToFitChildrenWithOption","size","currentParentGroup","currentPage","currentArtboard","addLayers","lineHeight","lineHeightMidY","lineWidth","touchOffset","startingPointOffset","path","NSBezierPath","bezierPath","moveToPoint","NSMakePoint","lineToPoint","shape","MSShapeGroup","shapeWithBezierPath","MSPath","pathWithBezierPath","border","style","addStylePartOfType","MSColor","colorWithRGBADictionary","thickness","stringValue","textLayer","setTextColor","getTokenVariable","colorsMap","wholeObject","component","hexColor","prefix","hasDash","propertyPrefix","test","split","selectedColor","replace","states","propertyName","Array","selectedState","Object","keys","find","state","layer","getRGBColor","colorHex","immutableModelObject","hexValue","getBorderHexColor","type","textColor","fills","firstObject","borders","getHexValueFromColorVariable","colorVar","baseColorsVariablesMap","colorVarWithPrefix","hexVal","threadDictionary","NSThread","mainThread","importedBaseColors","colorNames","map","colorGroup","colorGroupName","colorDefaultName","default","forEach","variation","variationName","variationNameWithoutPercetageSign","transformColorLightness","hex","lightness","hslColor","hexToHsl","hslToHex","result","exec","parseInt","max","Math","min","h","s","l","d","round","hsl","rgbColor","hslToRgb","m1","m2","hue","hue2rgb","multiplyBy255","num"],"mappings":"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","file":"get-base-fill-color.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/getters/base-colors/get-base-fill-color.js\");\n","const Utils = require('./../../utils.js');\n\n// My plugin (command shift s)\nexport default function(context) {\n  var selection = context.selection;\n  context.document.showMessage('Plugin 🏃');\n\n  if (selection.length == 0) {\n    return context.document.showMessage('🗝🌈: Please select an object');\n  }\n  // if its a text\n  if (selection[0] instanceof MSTextLayer) {\n    return context.document.showMessage(\n      '❌: Please use `Tokenizer > Get Tone` for texts'\n    );\n  }\n\n  const colorMapping = Utils.getBaseColorsVariablesMapping();\n  console.log('colorMapping', colorMapping);\n  const currentSelectedColor = Utils.getFillHexColor(selection)\n    .toString()\n    .toUpperCase();\n\n  const color = colorMapping['#' + currentSelectedColor];\n\n  const callback = () => getFillColorVariable(selection, color);\n\n  // checks if color belongs to UI Kit, if not returns an error\n  Utils.colorChecker(color, callback);\n}\n\nfunction getFillColorVariable(selection, text) {\n  const position = {\n    x: selection[0].absoluteRect().rulerX(),\n    y: selection[0].absoluteRect().rulerY(),\n    midY: selection[0].absoluteRect().height() / 2,\n    width: selection[0].absoluteRect().width()\n  };\n\n  const layerName = String(selection[0].name());\n\n  Utils.insertTokenText(position, layerName, 'fill color', text);\n}\n","const quoteColor = { r: 1, g: 0.369, b: 0.941, a: 1 };\n\n// UI Creators\n\nexport function insertTokenText(\n  position,\n  layerGroupName,\n  title,\n  text,\n  isBorder = false\n) {\n  const capitalizedTitle = title[0].toUpperCase() + title.slice(1);\n  const textWithToken = createTextLayer(`${capitalizedTitle}: ${text}`);\n  const quoteLine = createQuoteLine(position, isBorder);\n\n  // var bounds = MSLayerGroup.groupBoundsForContainer(\n  //   MSLayerArray.arrayWithLayers([quoteLine, textWithToken])\n  // );\n\n  insertIntoGroup(\n    layerGroupName,\n    title,\n    { text: textWithToken, line: quoteLine },\n    position\n  );\n}\n\nexport function insertIntoGroup(layerGroupName, property, layers, position) {\n  var groupLayer = MSLayerGroup.new();\n\n  // to simulate the heigt/width\n  var bounds = MSLayerGroup.groupBoundsForContainer(\n    MSLayerArray.arrayWithLayers([layers.line, layers.text])\n  );\n\n  // moves the text a bit further from object\n  layers.text.frame().x = 85;\n  groupLayer.name = `Token ${property} for ${layerGroupName}`;\n  groupLayer.layers = [layers.line, layers.text];\n\n  groupLayer.resizeToFitChildrenWithOption(1);\n  groupLayer.frame().x = position.x + position.width - 5;\n  groupLayer.frame().y = position.y + position.midY - bounds.size.height / 2;\n  var currentParentGroup =\n    context.document.currentPage().currentArtboard() ||\n    context.document.currentPage();\n  currentParentGroup.addLayers([groupLayer]);\n}\n\nexport function createQuoteLine(position, isBorder) {\n  const lineHeight = 14;\n  const lineHeightMidY = lineHeight / 2;\n  const lineWidth = 85;\n\n  // if its a border, we want the quote line to touch it, otherwise touch fill\n  const touchOffset = isBorder ? 0 : 5;\n\n  // if its a border, we want the quote line to start from the same point as fill quoted line\n  const startingPointOffset = isBorder ? 30 : 0;\n  var path = NSBezierPath.bezierPath();\n  path.moveToPoint(\n    NSMakePoint(lineWidth - touchOffset, lineHeightMidY + startingPointOffset)\n  );\n  path.lineToPoint(NSMakePoint(0, lineHeightMidY));\n\n  var shape = MSShapeGroup.shapeWithBezierPath(MSPath.pathWithBezierPath(path));\n  var border = shape.style().addStylePartOfType(1);\n  border.color = MSColor.colorWithRGBADictionary(quoteColor);\n  border.thickness = 1;\n\n  return shape;\n}\n\nexport function createTextLayer(stringValue) {\n  var textLayer = MSTextLayer.new();\n  textLayer.stringValue = stringValue;\n  textLayer.name = 'Text';\n  textLayer.setTextColor(MSColor.colorWithRGBADictionary(quoteColor));\n  return textLayer;\n}\n\n// Token getters\n\nexport function getTokenVariable(\n  colorsMap,\n  wholeObject,\n  property,\n  component,\n  hexColor\n) {\n  if (!colorsMap) {\n    return context.document.showMessage(\n      '✋🏻❌: Please load a decisions base colors file before continuing'\n    );\n  }\n\n  if (!wholeObject) {\n    return context.document.showMessage(\n      `✋🏻❌: Please load a decisions token file for ${property} before continuing`\n    );\n  }\n\n  const prefix = '--token';\n\n  // if property has `-`, splits it\n  const hasDash = /-/;\n  const propertyPrefix = hasDash.test(property)\n    ? property.split('-')\n    : property;\n\n  // gets the color from selected element\n  const selectedColor = colorsMap[hexColor].replace('--color-', '');\n\n  let states;\n  let propertyName;\n  if (propertyPrefix instanceof Array) {\n    states =\n      wholeObject['token'][propertyPrefix[0]][propertyPrefix[1]][component];\n    propertyName = `${propertyPrefix[0]}-${propertyPrefix[1]}`;\n  } else {\n    states = wholeObject['token'][propertyPrefix][component];\n    propertyName = propertyPrefix;\n  }\n\n  const selectedState = Object.keys(states).find(\n    state => states[state] == selectedColor\n  );\n\n  return `${prefix}-${propertyName}-${component}-${selectedState}`;\n}\n\n// Base color getters\n\nexport function getFillHexColor(selection) {\n  var layer = context.selection[0];\n  var selectedColor = getRGBColor('fill', layer);\n  var colorHex = selectedColor\n    .immutableModelObject()\n    .hexValue()\n    .toString();\n  return colorHex;\n}\n\nexport function getBorderHexColor(selection) {\n  var layer = context.selection[0];\n  var selectedColor = getRGBColor('border', layer);\n  var colorHex = selectedColor\n    .immutableModelObject()\n    .hexValue()\n    .toString();\n  return colorHex;\n}\n\nexport function getRGBColor(type, layer) {\n  var color;\n\n  if (type === 'fill') {\n    if (layer instanceof MSTextLayer) {\n      color = layer.textColor();\n    } else {\n      color = layer\n        .style()\n        .fills()\n        .firstObject()\n        .color();\n    }\n  } else {\n    color = layer\n      .style()\n      .borders()\n      .firstObject()\n      .color();\n  }\n\n  return color;\n}\n\nexport function getHexValueFromColorVariable(colorVar, baseColorsVariablesMap) {\n  const colorVarWithPrefix = `--color-${colorVar}`;\n  return Object.keys(baseColorsVariablesMap).find(hexVal => {\n    if (baseColorsVariablesMap[hexVal] == colorVarWithPrefix) return hexVal;\n  });\n}\n\n// Checkers\n\nexport function colorChecker(color, callback) {\n  if (typeof color === 'undefined') {\n    return context.document.showMessage(\n      '🎨🚫: Non UI Kit color. Please make sure to use a valid color'\n    );\n  } else {\n    return callback();\n  }\n}\n\n// General scripts\n\nexport function getBaseColorsVariablesMapping() {\n  // Gets the json data stored in global state\n  let threadDictionary = NSThread.mainThread().threadDictionary();\n  let importedBaseColors = threadDictionary.importedBaseColors;\n  if (!importedBaseColors)\n    return context.document.showMessage(\n      '🗃👎🏻 No file imported. Please import your base colors file in `Import base colors file...`'\n    );\n\n  const colorNames = {};\n  // gets default color variables\n  Object.keys(importedBaseColors).map(colorGroupName => {\n    // console.log('colorGroupName', colorGroupName)\n    const colorGroup = importedBaseColors[colorGroupName];\n    const colorDefaultName = colorGroup.default;\n    colorNames[colorDefaultName.toString().toUpperCase()] =\n      '--color-' + colorGroupName;\n\n    // console.log('colorGroup.default', colorGroup.default);\n\n    Object.keys(colorGroup).forEach(variation => {\n      // filters out default values\n      if (variation !== 'default') {\n        const variationName = colorGroup[variation];\n        const variationNameWithoutPercetageSign = variationName\n          .toString()\n          .replace('%', '');\n        // console.log('colorGroup.default', colorGroup.default)\n        colorNames[\n          transformColorLightness(\n            colorGroup.default,\n            variationNameWithoutPercetageSign\n          ).toUpperCase()\n        ] =\n          '--color-' + colorGroupName + '-' + variation;\n      }\n    });\n  });\n  return colorNames;\n}\n\n// Color converters\n\nfunction transformColorLightness(hex, lightness) {\n  const hslColor = hexToHsl(hex, lightness);\n  const hexColor = hslToHex(hslColor);\n  console.log('hexColor', hexColor);\n  return hexColor;\n}\n\nfunction hexToHsl(hex, lightness) {\n  var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n\n  var r = parseInt(result[1], 16);\n  var g = parseInt(result[2], 16);\n  var b = parseInt(result[3], 16);\n\n  (r /= 255), (g /= 255), (b /= 255);\n  var max = Math.max(r, g, b),\n    min = Math.min(r, g, b);\n  var h,\n    s,\n    l = (max + min) / 2;\n\n  if (max == min) {\n    h = s = 0; // achromatic\n  } else {\n    var d = max - min;\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n    switch (max) {\n      case r:\n        h = (g - b) / d + (g < b ? 6 : 0);\n        break;\n      case g:\n        h = (b - r) / d + 2;\n        break;\n      case b:\n        h = (r - g) / d + 4;\n        break;\n    }\n    h /= 6;\n  }\n\n  h = Math.round(360 * h);\n  s = s * 100;\n  s = Math.round(s);\n  l = l * 100;\n  l = lightness ? lightness : Math.round(l);\n\n  return [h, s, l];\n}\n\nfunction hslToHex(hsl) {\n  const rgbColor = hslToRgb(hsl[0], hsl[1], hsl[2]);\n  const r = rgbColor[0];\n  const g = rgbColor[1];\n  const b = rgbColor[2];\n\n  // console.log('rgb', r, g, b)\n\n  return '#' + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);\n}\n\nfunction hslToRgb(h, s, l) {\n  var m1, m2, hue;\n  s = s / 100;\n  l = l / 100;\n  var r, g, b;\n\n  if (s == 0) r = g = b = l * 255;\n  else {\n    m2 = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    m1 = 2 * l - m2;\n    hue = h / 360;\n\n    r = hue2rgb(m1, m2, hue + 1 / 3);\n    g = hue2rgb(m1, m2, hue);\n    b = hue2rgb(m1, m2, hue - 1 / 3);\n  }\n\n  function multiplyBy255(num) {\n    return num * 255;\n  }\n\n  if (r < 1 || g < 1 || b < 1) {\n    r = multiplyBy255(r);\n    g = multiplyBy255(g);\n    b = multiplyBy255(b);\n  }\n\n  console.log('rgb', Math.round(r), Math.round(g), Math.round(b));\n\n  return [Math.round(r), Math.round(g), Math.round(b)];\n}\n\nfunction hue2rgb(m1, m2, hue) {\n  if (hue < 0) hue += 1;\n  if (hue > 1) hue -= 1;\n  if (hue < 1 / 6) return m1 + (m2 - m1) * 6 * hue;\n  if (hue < 1 / 2) return m2;\n  if (hue < 2 / 3) return m1 + (m2 - m1) * (2 / 3 - hue) * 6;\n  return m1;\n}\n"],"sourceRoot":""}